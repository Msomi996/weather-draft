<!DOCTYPE html>
<html lang="en">
  <head>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/vendors~app~embed~sandbox~sandbox-startup.7424373eb.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/vendors~app~embed~sandbox-startup.b754f8b0e.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/default~app~embed~sandbox~sandbox-startup.faf874f4d.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/sandbox-startup.9d6da3b9a.js"></script>

<script src="//codesandbox.io/static/browserfs12/browserfs.min.js" type="text/javascript"></script>

<script>
  window.process = BrowserFS.BFSRequire('process');
  window.Buffer = BrowserFS.BFSRequire('buffer').Buffer;
</script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="wk5.css" />
    <title>Weather App</title>
  </head>

  <body>
    <style>
      body {
        font-family: arial, sans-serif;
      }
      
      h1 {
        color: #7c7c7c;
        font-size: 24px;
        font-weight: 100;
        line-height: 28px;
        margin: 0;
      }
      
      ul {
        margin: 0 0 10px;
        padding: 0;
      }
      
      li {
        color: #7c7c7c;
        font-size: 16px;
        font-weight: 100;
        height: 19px;
        line-height: 1;
        list-style: none;
      }
      
      .weather-app {
        border: 1px solid #dadde1;
        padding: 15px;
        margin: 20px auto;
        border-radius: 10px;
        max-width: 600px;
      }
      
      .weather-icon {
        height: 64px;
        width: 64px;
        margin-right: 10px;
      }
      
      .temperature {
        color: rgb(33, 33, 33);
        font-size: 64px;
        font-weight: 400;
        line-height: 1;
      }
      
      .units {
        position: relative;
        top: -34px;
      }
      
      .search-form {
        margin-bottom: 20px;
      }
      a {
        text-align: center;
        margin: 0 outo;
      }
    </style>
    <div class="container">
      <div class="weather-app">
        <form class="search-form" id="search-form">
          <div class="row">
            <div class="col-6">
              <input
                type="search"
                placeholder="Type a city.."
                autofocus="on"
                autocomplete="off"
                id="city-input"
                class="form-control shadow-sm"
              />
            </div>
            <div class="col-3">
              <input
                type="submit"
                value="Search"
                class="form-control btn btn-primary shadow-sm w-100"
              />
            </div>
            <div class="col-3">
              <button
                class="btn btn-success w-100"
                id="current-location-button"
              >
                Current
              </button>
            </div>
          </div>
        </form>
        <h1 id="city"></h1>
        <ul>
          <li id="date"></li>
          <li id="description"></li>
        </ul>
        <div class="row">
          <div class="col-6">
            <div class="clearfix">
              <div class="float-left">
                <span class="temperature" id="temperature"></span
                ><span class="units">Â°C</span>
              </div>
            </div>
          </div>
          <div class="col-6">
            <ul>
              <li>Humidity: <span id="humidity"></span>%</li>
              <li>Wind: <span id="wind"></span> km/h</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <p class="src-code">
      <h4>
        <a href="https://github.com/Msomi996/weather-draft/tree/main">open source code</a> By Nonhle Msomi
      </h4>
    </p>
    <script src="index.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/vendors~app~codemirror-editor~monaco-editor~sandbox.ad4e6d3c4.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/common-sandbox.d3049e87f.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/vendors~app~sandbox.aca52037e.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/vendors~sandbox.3bd3135bd.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/default~app~embed~sandbox.080afe32f.chunk.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/sandbox.93bd4e2a0.js"></script>
    <script crossorigin type="text/javascript" src="https://codesandbox.io/static/js/banner.0b5d84a2b.js"></script>
  <script>
"32D054CD2146B036CC22B5AB41379AB34C91B0D24632B27F94CC824CFF9EC90E",
  version: "https://codesandbox.io/static/js/sandbox.93bd4e2a0.js"

</script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v8b253dfea2ab4077af8c6f58422dfbfd1689876627854" integrity="sha512-bjgnUKX4azu3dLTVtie9u6TKqgx29RBwfj3QXYt5EKfWM/9hPSAI/4qcV5NACjwAo8UtTeWefx6Zq5PHcMm7Tg==" data-cf-beacon='{"rayId":"80803143f8be4eb5","token":"7449176f14aa420c959831edd48bd5b7","version":"2023.8.0","si":100}' crossorigin="anonymous"></script>
<script src="index.js"></script>
<script>
  function formatDate(date) {
    let hours = date.getHours();
    if (hours < 10) {
      hours = `0${hours}`;
    }
    let minutes = date.getMinutes();
    if (minutes < 10) {
      minutes = `0${minutes}`;
    }
  
    let dayIndex = date.getDay();
    let days = [
      "Sunday",
      "Monday",
      "Tuesday",
      "Wednesday",
      "Thursday",
      "Friday",
      "Saturday"
    ];
    let day = days[dayIndex];
  
    return `${day} ${hours}:${minutes}`;
  }
  
  function displayWeatherCondition(response) {
    document.querySelector("#city").innerHTML = response.data.name;
    document.querySelector("#temperature").innerHTML = Math.round(
      response.data.main.temp
    );
  
    document.querySelector("#humidity").innerHTML = response.data.main.humidity;
    document.querySelector("#wind").innerHTML = Math.round(
      response.data.wind.speed
    );
    document.querySelector("#description").innerHTML =
      response.data.weather[0].main;
  }
  
  function searchCity(city) {
    let apiKey = "cabdbda40038ba7d1165b953b1c7bd6c";
    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
    axios.get(apiUrl).then(displayWeatherCondition);
  }
  
  function handleSubmit(event) {
    event.preventDefault();
    let city = document.querySelector("#city-input").value;
    searchCity(city);
  }
  
  function searchLocation(position) {
    let apiKey = "cabdbda40038ba7d1165b953b1c7bd6c";
    let apiUrl = `https://api.openweathermap.org/data/2.5/weather?lat=${position.coords.latitude}&lon=${position.coords.longitude}&appid=${apiKey}&units=metric`;
  
    axios.get(apiUrl).then(displayWeatherCondition);
  }
  
  function getCurrentLocation(event) {
    event.preventDefault();
    navigator.geolocation.getCurrentPosition(searchLocation);
  }
  
  function convertToFahrenheit(event) {
    event.preventDefault();
    let temperatureElement = document.querySelector("#temperature");
    temperatureElement.innerHTML = 66;
  }
  
  function convertToCelsius(event) {
    event.preventDefault();
    let temperatureElement = document.querySelector("#temperature");
    temperatureElement.innerHTML = 19;
  }
  
  let dateElement = document.querySelector("#date");
  let currentTime = new Date();
  dateElement.innerHTML = formatDate(currentTime);
  
  let searchForm = document.querySelector("#search-form");
  searchForm.addEventListener("submit", handleSubmit);
  
  let currentLocationButton = document.querySelector("#current-location-button");
  currentLocationButton.addEventListener("click", getCurrentLocation);
  
  searchCity("New York");
  
</script>
</body>

</html>
